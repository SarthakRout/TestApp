<app-header></app-header>
<div class="container" *ngIf = "isLoading" style= "position: fixed; top: 50vh; left: 50vw; z-index: 50">
  <app-loading-spinner></app-loading-spinner>
</div>
<div class="ocontainer" style = "margin-top: 55px;">
  <h3 style="text-align: center;">Test Analysis</h3>
  <div class="container" *ngIf = "!isLoading">
    <div class="row">
      <label>Name: </label>
      <h5>{{test.name}}</h5>
    </div>
    <div class="container">

      <div class="container" *ngFor  = "let question of test.questions; let i = index">
        <div class="row" (click) = "Toggle($event)" style = "border: 1px solid grey; border-radius: 3px; background-color: ivory;">
          <h5> {{i + 1}} - {{question.statement}} </h5>
        </div>
        <div class="container" style = "display: none;">
          <hr>
          <div class="container" *ngFor = "let image of question.images">
            <img src = "{{image}}" style="max-width: 30vw; height: auto;">
            <hr>
          </div>
          <div class="row" *ngFor = "let option of question.options; let j = index;" style = "align-items: baseline;">
            <!-- <input type = "radio"  name = "{{question.id}}" value = "{{option}}"> -->
            <div class="col-11" style = "margin-left: 2px; border-radius: 2px; background-color: {{ this.rowcolors[j%2] }}">
              <label for = "{{option}}">&nbsp;{{option}}</label>
            </div>
          </div>
          <hr>
          <div class="container" *ngIf = "this.testAnswers[question.id]">
            <div class="row" *ngFor = "let choice of testAnswers[question.id].answers">
              <div class="col-12 col-md-6">
                <h5>Answer : {{choice}} - {{question.options[+choice-1]}}</h5>
              </div>
            </div>
          </div>
          <hr>
        </div>
        <hr>
      </div>

    </div>
  </div>
</div>
